<div [ngClass]="{'layout': true, 'sidebar-collapsed': sidebarCollapsed}">

   <!-- Bot√≥n de colapsar sidebar -->
        
  <aside class="sidebar" [ngClass]="{'collapsed': sidebarCollapsed}">
     <div class="toggle-wrapper">
        <button class="toggle-btn" (click)="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
    </div>

  <div class="logo-container" >
    <img src="assets/Josh.jpeg"alt="Logo" class="oval-logo">
  </div>
 
   <div class="sidebar-content">
    <div class="sidebar-top">
       <h3>GESTI√ìN LIBRO</h3>
   <ul>
  <li>
    <a routerLink="/libro">
      <i class="fas fa-layer-group"></i> Gesti√≥n Libro
    </a>
  </li>
  <li>
    <a routerLink="/autor">
      <i class="fas fa-book"></i> Gesti√≥n Autor
    </a>
  </li>
  <li>
    <a routerLink="/cliente">
      <i class="fas fa-user"></i> Gesti√≥n Cliente
    </a>
  </li>
  <li>
    <a routerLink="/editorial">
      <i class="fas fa-building"></i> Gesti√≥n Editorial
    </a>
  </li>
  <li>
    <a routerLink="/factura">
      <i class="fas fa-file-invoice"></i> Gesti√≥n Factura
    </a>
  </li>
</ul>
</div>
    <!-- Secci√≥n empujada abajo -->
    <div class="sidebar-bottom">
      <ul>
        <li><i class="fa-solid fa-house"></i><span> Home</span></li>
        <li><i class="fa-solid fa-bell"></i><span> Notificaci√≥n</span></li>
      </ul>
    </div>
    </div>
</aside>

  <div class="main">
    <header class="header">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

      <h1>Libros An√≠bal</h1>
      <div class="admin-profile">
        <span>ADMINISTRADOR</span>
        <img src="assets/admin.jpeg" alt="Admin" class="oval-admin">
      </div>
    </header>

    <form><br>
     <section class="compra compra-grid">
  <div class="input-group">
    <label for="fecha">FECHA</label>
    <input type="date" id="fecha">
  </div>

  <div class="input-group">
    <label for="cliente">BUSCAR CLIENTE</label>
    <div class="search-group">
      <input type="text" placeholder="Agregar texto">
      <button type="button">üîç Buscar</button>
    </div>
  </div>

  <div class="input-group">
    <label for="producto">BUSCAR PRODUCTO</label>
    <div class="search-group">
      <input type="text" placeholder="Agregar texto">
      <button type="button">üîç Buscar</button>
    </div>
  </div>
</section>


<section class="detalle-factura">
         <div class="tabla-scroll"> 
          <table>
            <thead>
              <tr>
                <th>Art√≠culo</th>
                <th>C√≥digo</th>
                <th>Serie</th>
                <th>Stock</th>
                <th>P.Venta</th>
                <th>Cantidad</th>
                <th>Cliente</th>
                <th>Fecha</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>El Quijote</td><td>LIB001</td><td>A123</td><td>10</td><td>$15.00</td><td>2</td><td>Juan P√©rez</td><td>2025-06-19</td><td><button>‚ùå</button></td>
              </tr>
              <tr>
                <td>Cien A√±os de Soledad</td><td>LIB002</td><td>B456</td><td>7</td><td>$20.00</td><td>1</td><td>Mar√≠a G√≥mez</td><td>2025-06-19</td><td><button>‚ùå</button></td>
              </tr>
              <tr>
                <td>1984</td><td>LIB003</td><td>C789</td><td>5</td><td>$18.00</td><td>3</td><td>Carlos Ruiz</td><td>2025-06-19</td><td><button>‚ùå</button></td>
              </tr>
            </tbody>
          </table>
          </div>
      </section>

      <section class="totales-box totales-grid">
  <div class="input-group">
    <label for="subtotal">SUB TOTAL:</label>
    <input type="text" id="subtotal" placeholder="Agregar texto">
  </div>
  <div class="input-group">
    <label for="iva">IVA 15%:</label>
    <input type="text" id="iva" placeholder="Agregar texto">
  </div>
  <div class="input-group">
    <label for="total">TOTAL:</label>
    <input type="text" id="total" placeholder="Agregar texto">
  </div>
</section>


     <div class="botones">
        <button type="button" class="btn guardar" (click)="mostrarVistaPrevia()">GUARDAR</button>
        <button type="button" class="btn guardar" (click)="confirmarFactura()">CONFIRMAR</button>
      </div>

    <div *ngIf="vistaPreviaActiva" class="factura-preview">
          <h2>Vista previa de la Factura</h2>
          <p><strong>Cliente:</strong> {{ clienteNombre }}</p>
          <p><strong>Fecha:</strong> {{ fecha }}</p>

        <table>
          <thead>
            <tr>
              <th>Art√≠culo</th><th>C√≥digo</th><th>Cantidad</th><th>Precio</th><th>Total</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of itemsFactura">
              <td>{{ item.nombre }}</td>
              <td>{{ item.codigo }}</td>
              <td>{{ item.cantidad }}</td>
              <td>{{ item.precio }}</td>
              <td>{{ item.cantidad * item.precio | currency }}</td>
            </tr>
          </tbody>
        </table>

      <p><strong>SUBTOTAL:</strong> {{ subtotal | currency }}</p>
      <p><strong>IVA (15%):</strong> {{ iva | currency }}</p>
      <p><strong>TOTAL:</strong> {{ total | currency }}</p>

     <div class="botones">
  <button type="button" class="btn cancelar" (click)="cancelarVistaPrevia()">CANCELAR</button>
  <button type="button" class="btn guardar" (click)="confirmarFactura()">CONFIRMAR</button>
</div>

    </div>
    

    </form>
  </div>
</div>
